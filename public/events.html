<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="utf-8">
  <meta name="robots" content="noindex">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <link rel="stylesheet" href="./style/main.css">
  <link rel="shortcut icon" href="./images/ファビコン (logo)/favicon.ico">


  <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
  <script type="text/javascript" src="./javascript/index.js"></script>
  <script type="text/javascript" src="./javascript/language.js"></script>
  <title>LINK｜東京都立大学システムデザイン学部インダストリアルアート学科/学域</title>

  <!-- font -->
  <script>
    (function (d) {
      var config = {
        kitId: 'eby3bgi',
        scriptTimeout: 3000,
        async: true
      },
        h = d.documentElement, t = setTimeout(function () { h.className = h.className.replace(/\bwf-loading\b/g, "") + " wf-inactive"; }, config.scriptTimeout), tk = d.createElement("script"), f = false, s = d.getElementsByTagName("script")[0], a; h.className += " wf-loading"; tk.src = 'https://use.typekit.net/' + config.kitId + '.js'; tk.async = true; tk.onload = tk.onreadystatechange = function () { a = this.readyState; if (f || a && a != "complete" && a != "loaded") return; f = true; clearTimeout(t); try { Typekit.load(config) } catch (e) { } }; s.parentNode.insertBefore(tk, s)
    })(document);
  </script>

  <script>
    window.onload = function () {
      initLanguage();

      var loadHTML = new Promise(function (resolve, reject) {
        // ia wiki から topicsデータを取得する
        var url = 'http://industrial-art.sd.tmu.ac.jp/wiki/doku.php\?id=website:events';
        var regexp = '@<!-- CONTENT -->(.*?)<!-- \/CONTENT -->@s';
        var _html = './php/scrape.php?regexp=' + regexp + '&url=' + url;
        var id = 'main';
        //Httpリクエスを作る
        var xmlhttp = new XMLHttpRequest();
        xmlhttp.open("GET", _html, true);
        xmlhttp.onreadystatechange = function () {
          //とれた場合Idにそって入れ替え
          if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
            var data = xmlhttp.responseText;
            //xmlhttp.responseXML
            //console.log(data);
            var elem = document.querySelector(id);
            elem.innerHTML += data;
            resolve(data);
          }
        }
        xmlhttp.send(null);
      }).then(data => {
        let ols = document.querySelectorAll('ol');
        let section_links = document.createElement('section');
        section_links.classList = 'links';
        document.querySelector('main').appendChild(section_links);
        for (ol of ols) {
          //console.log(ol);
          let lis = ol.querySelectorAll('li');
          let title = lis[0].querySelector('div').innerHTML;
          let place = lis[1].querySelector('div').innerHTML;
          let term = lis[2].querySelector('div').innerHTML;
          let abstract = lis[3].querySelector('div').innerHTML;
          let image = lis[4].querySelector('div').querySelector('a').href;
          let href = lis[5].querySelector('div').querySelector('a').href;

          let section_link = document.createElement('section');
          section_link.classList = 'link';
          section_links.appendChild(section_link);

          let section_left = document.createElement('section');
          section_left.classList = 'left';
          section_link.appendChild(section_left);

          let a = document.createElement('a');
          a.href = href;
          a.target = '_blank';
          section_left.appendChild(a);

          let img = document.createElement('img');
          img.src = image;
          a.appendChild(img);

          let section_right = document.createElement('section');
          section_right.classList = 'right';
          section_link.appendChild(section_right);

          let div_linktitle = document.createElement('div');
          div_linktitle.classList = 'linktitle';
          section_right.appendChild(div_linktitle);

          let a1 = document.createElement('a');
          a1.href = href;
          a1.target = '_blank';
          div_linktitle.appendChild(a1);

          let h2 = document.createElement('h2');
          h2.innerHTML = title;
          a1.appendChild(h2);

          let img1 = document.createElement('img');
          img1.classList = 'external-link';
          img1.src = './images/prof-link.svg';
          a1.appendChild(img1);

          let p_location = document.createElement('p');
          p_location.classList = 'location';
          p_location.innerHTML = place;
          section_right.appendChild(p_location);

          let p_date = document.createElement('p');
          p_date.classList = 'dates';
          p_date.innerHTML = term;
          section_right.appendChild(p_date);

          let p_abstract = document.createElement('p');
          p_abstract.classList = 'about-exhibition';
          p_abstract.innerHTML = abstract;
          section_right.appendChild(p_abstract);




        }
        document.querySelector('.dw-content').remove();
        //console.log(section_links);
        initLanguage();
      });
    }
  </script>
</head>

<body>

  <nav class="navbar navbar-expand-md  fixed-left" style="background-color:var(--color-header);">
    <header class="logo">
      <script>
        $(".logo").load("./parts/header.html");
      </script>
    </header>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault"
      aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
          fill="currentColor" class="bi bi-list" viewBox="0 0 16 16">
          <path fill-rule="evenodd"
            d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z" />
        </svg></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarsExampleDefault">
      <ul class="navbar-nav">
        <script type="text/javascript" src="./javascript/menu.js">

        </script>
      </ul>
    </div>
  </nav>



  <div class="container">
    <div class="centering">
      <main>
        <h2 class="page-title">Events<span></span></h2>
      </main>
      <footer>
        <script>
          $("footer").load("./parts/footer.html");
        </script>
      </footer>
    </div>
  </div>


  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>

</body>

</html>